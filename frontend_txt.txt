# Step 1: Use official Tomcat base image
FROM tomcat:9.0

# Step 2: Remove default ROOT folder (optional but recommended)
RUN rm -rf /usr/local/tomcat/webapps/ROOT

# Step 3: Copy WAR file from Maven target folder to Tomcat webapps
COPY target/web-app.war /usr/local/tomcat/webapps/ROOT.war

# Step 4: Expose port 8080
EXPOSE 8080

# Step 5: Start Tomcat
CMD ["catalina.sh", "run"]



version: '3.8'

services:
  webapp:
    container_name: java-web-app
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    volumes:
      - ./logs:/usr/local/tomcat/logs
    restart: always

